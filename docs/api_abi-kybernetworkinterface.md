---
id: API_ABI-KyberNetworkInterface
title: KyberNetworkInterface
---
# interface KyberNetworkInterface
imports ERC20Interface

*Source*: [KyberNetworkInterface.sol](https://github.com/KyberNetwork/smart-contracts/blob/master/contracts/KyberNetworkInterface.sol)
___
## DISCLAIMER
**All code snippets in this document have not been audited and should not be used in production. If so, it is done at your own risk.**

## INDEX

<AUTOGENERATED_TABLE_OF_CONTENTS>

## REFERENCE

### Functions

### `enabled`
Get the status of the network.
___
function __enabled__ public view returns (bool)
**Returns:**\
`true` if the network is running (trades allowed), `false` otherwise (when smart contracts are upgraded, for example)
<br />

### `getExpectedRate`
Get the expected exchange rate.
___
function __getExpectedRate__(ERC20 src, ERC20 dest, uint srcQty) public view returns (uint expectedRate, uint slippageRate)
| Parameter | Type  | Description                              |
| --------- |:-----:|:----------------------------------------:|
| `src`     | ERC20 | source ERC20 token contract address      |
| `dest`    | ERC20 | destination ERC20 token contract address |
| `srcQty`  | uint  | source ERC20 token amount in its token decimals             |
**Returns:**\
The expected exchange rate and slippage rate

**Notes:**
- Returned values are in 18 decimals regardless of the destination token's decimals
- The Most Significant Bit (MSB) is used for excluding permissionless reserves, since this function lacks a hint parameter for this purpose.

#### Understanding the returned values
To understand what this rate means, divide the obtained value by 10**18. Let us look at an example.
Suppose calling `getExpectedRate(KNC_TOKEN,ZIL_TOKEN,1000000000000000000)` returns the following values:
* `expectedRate: 8364817722526000000`
* `slippageRate: 8113873190850220000`

` 8364817722526000000 / (10**18) = 8.364817722526`
Hence, 1 KNC token can be converted to 8.365 ZIL tokens.

#### `0` expected and slippage rates
A returned rate of `0` signifies that a trade from the requested source token amount to the destination token is not possible at the moment. It could be due to the following reasons:
* No reserve is supporting either `src` or `dest` token, or both
* No reserve can support the queried `srcQty` amount (Eg. due to insufficient liquidity, expired conversion rates)
* The network is undergoing maintenance (this can be checked with [this function](#enabled))

#### Turning on MSB to exclude permissionless reserves
Add `2**255` to the desired `srcQty`. As `2**255` is a really large number, the use of a BigNum library / package is recommended for calculations. We give a web3 example below.
```js
const srcQty = new web3.utils.BN('3000000000000000000000')
//Example where MSB is turned on to exclude permissionless reserves
const hint = new web3.utils.BN('57896044618658097711785492504343953926634992332820282019729792003956564819968') // 2^255 (turning on MSB)
const newSrcQty = srcQty.add(hint)
let result = await kyberNetworkProxyContract.methods.getExpectedRate(
	src,
	dest
	newSrcQty
).call()
```

### `getUserCapInTokenWei`
Get the user's exchange limit in the specified ERC20 token based on whether user has been KYC'd or not. Future feature.
___
function __getUserCapInTokenWei__(address user, ERC20 token) public view returns (uint)
| Parameter | Type    | Description    |
| --------- |:-------:|:--------------:|
| `user`    | address | user's address |
| `token` | ERC20 | ERC20 token contract address |
**Returns:**\
The user's exchange limit in the specified ERC20 token decimals
<br />

### `getUserCapInWei`
Get the user's exchange limit based on whether user has been KYC'd or not. Currently not enforced.
___
function __getUserCapInWei__(address user) public view returns (uint)
| Parameter | Type    | Description    |
| --------- |:-------:|:--------------:|
| `user`    | address | user's address |
**Returns:**\
The user's exchange limit in ETH wei
<br />

### `info`
Get information (for use by an external UI application)
___
function __info__(bytes32 id) public view returns (uint)
| Parameter | Type    | Description    |
| --------- |:-------:|:--------------:|
| `id`    | bytes32 | key in the `info` mapping |
**Returns:**\
Value that was set that corresponds to `id`
<br />

### `maxGasPrice`
Gets the maximum gas price allowable for trade transactions.
___
function __maxGasPrice__ public view returns (uint)
**Returns:**\
Maximum gas price allowable for trade transactions.
<br />

### `tradeWithHint`
Makes a trade between src and dest token and send dest tokens to destAddress, with an additional `hint` parameter for exclusion of permissionless reserves.
___
function __tradeWithHint__(address trader, ERC20 src, uint srcAmount, ERC20 dest, address destAddress, uint maxDestAmount, uint minConversionRate, address walletId, bytes hint) public payable returns (uint)
| Parameter           | Type    | Description                                   |
| ------------------- |:-------:|:--------------------------------------------------------------------:|
| `trader`      |    address |  trader's address |
| `src`               | ERC20   | source ERC20 token contract address                                  |
| `srcAmount`   | uint    | source ERC20 token amount in its token decimals             |
| `dest`              | ERC20   | destination ERC20 token contract address                             |
| `destAddress`       | address | recipient address for destination ERC20 token                        |
| `maxDestAmount`     | uint    | limit on the amount of destination tokens                            |
| `minConversionRate` | uint    | minimum conversion rate;  trade is canceled if actual rate is lower |
| `walletId`          | address | wallet address to send part of the fees to                           |
| `hint` | bytes | for filtering permissionless reserves |
**Returns:**\
Amount of actual destination tokens

**Notes:**
#### `srcAmount` | `maxDestAmount`
These amounts should be in the source and destination token decimals respectively. For example, if the user wants to swap from / to 10 POWR, which has 6 decimals, it would be `10 * (10 ** 6) = 10000000`

#### `maxDestAmount`
This parameter should never be zero. Set to an arbitarily large amount for all source tokens to be converted.

#### `minConversionRate`
This rate is independent of the source and destination token decimals. To calculate this rate, take `yourRate * 10**18`. For example, even though ZIL has 12 token decimals, if we want the minimum conversion rate to be `1 ZIL = 0.00017 ETH`, then `minConversionRate = 0.00017 * (10 ** 18)`.

#### `walletId`
If you are part of our [fee sharing program](integrations-feesharing.md), this will be your registered wallet address. Set to the null address if you are not a participant.

#### `hint`
By default, permissionless reserves are included for selection for the trade. To exclude permissionless reserves, parse `PERM` in the `hint` parameter.
